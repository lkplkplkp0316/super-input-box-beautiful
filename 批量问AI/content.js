"use strict";async function e(e,a,n,r,c,s=!1){if("INPUT"===(o=e).tagName||"TEXTAREA"===o.tagName)try{Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value").set.call(e,a);const t=new Event("input",{bubbles:!0});e.dispatchEvent(t)}catch(d){t(!1,a,c,r)}else try{e.click(),e.focus(),document.execCommand("insertText",!1,a)}catch(d){t(!1,a,c,r)}var o;return new Promise((n=>{setTimeout((()=>{try{a&&(s=e,["keydown","keypress","keyup"].forEach((e=>{const t=new KeyboardEvent(e,{bubbles:!0,cancelable:!0,composed:!0,key:"Enter",code:"Enter",keyCode:13,which:13,charCode:"keypress"===e?13:0});s.dispatchEvent(t)}))),t(!0,a,c,r)}catch(d){t(!1,a,c,r)}var s;n()}),10)}))}function t(e,t,a,n){chrome.runtime.sendMessage({action:"trackUTEvent",data:{eventId:"19999",pageName:"page_ucbrowser_ai",eventType:"dialog_start_result",arg1:"",arg2:"",args:{spm:"ucbrowser.ai.dialog_start.result",result:e?"success":"fail",query:t,name:a,entrance:""===n||null===n?"ntp_search_bar":n}}})}window.addEventListener("load",(()=>{window.parent.postMessage({type:"WINDOW_LOADED",data:{instanceId:window.location.href}},"*")})),window.addEventListener("message",(a=>{if(!a.data||"SEARCH_MESSAGE"!==a.data.type)return;const n=a.data,r=n.data.instanceId,c=n.data.entrance,s=n.data.type;try{const a=document.querySelector(n.data.jsSelect);a?e(a,n.data.searchText,r,c,s):(t(!1,searchText,s,c),setTimeout((()=>{const t=document.querySelector(n.data.jsSelect);t&&e(t,n.data.searchText,r,c,s,!0)}),1e3))}catch(o){}}));
